---
# Custom Credential Type: HuggingFace Token
#
# Import this into AWX: Administration > Credential Types > Add
# Then create credentials of this type with your HF_TOKEN
#
# This allows AWX to securely inject HF_TOKEN into playbook runs
# without storing it in inventory files or extra vars

name: HuggingFace Token
description: HuggingFace API token for accessing gated models (meta-llama, etc.)
kind: cloud

# Input Configuration - What fields the user fills when creating a credential
inputs:
  fields:
    - id: hf_token
      type: string
      label: HuggingFace Token
      help_text: |
        Your HuggingFace API token (starts with hf_).
        Get one at: https://huggingface.co/settings/tokens
        Required for gated models like meta-llama/Llama-3.2-1B-Instruct
      secret: true  # Encrypted in AWX database
  required:
    - hf_token

# Injector Configuration - How the credential is injected into the playbook
injectors:
  env:
    HF_TOKEN: "{{ hf_token }}"  # Set as environment variable
  extra_vars:
    hf_token: "{{ hf_token }}"  # Also available as Ansible variable
